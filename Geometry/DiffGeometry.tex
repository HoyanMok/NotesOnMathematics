\documentclass[openany, oneside, a5paper]{book} 
\usepackage{../TeXplatesMathematics}
\addbibresource{DiffGeometry.bib} % 把这里改成实际的文件名

\title{Differential Geometry}
\author{Hoyan Mok}

\DeclareMathOperator{\Vect}{Vect}

\begin{document}
\pagenumbering{Alph}
\maketitle
\frontmatter

\tableofcontents
\mainmatter{}

\part{Domestic Differential Geometry}

\chapter{Manifolds}

\chapter{Scalar and Vector Fields}

\section{Scalar Fields}

\begin{definition}[Scalar Field]
    Let $M$ be a smooth manifold, $f \in C^{(\infty)}(M)$ is called a \indexbf{scalar field}.
\end{definition}

The scalar field over a manifold, form an algebra.

\section{Vector Fields}

\begin{definition}[vector field]
    A \indexbf{vector field} $v$ over manifold $M$ is a $C^{(\infty)}(M) \to C^{(\infty)}(M)$ map that satisfies
    \begin{enumerate}[label=(\alph*)]
        \item $\forall f, g \in C^{(\infty)}(M)$, $\forall \lambda, \mu \in \mathbb R$, $v(\lambda f + \mu g) = \lambda v(f) + \mu v(g)$ (\emph{linearity}).
        \item $\forall f, g \in C^{(\infty)}(M)$, $v(fg) = v(f) g + f v(g)$ 
    \end{enumerate}
\end{definition}

The space of all vector fields on $M$ is denoted by $\indexmath[Vect(M)]{\Vect(M)}$

\begin{definition}[tangent vector]
    Let $v$ be a vector field over $M$, $p$ be a point on $M$.
    The tangent vector $v_p$ at $p$ is defined as a $C^{(\infty)}(M) \to C^{(\infty)}(M)$ map that satisfies
    \begin{equation}
        v_p(f) = v(f)(p).
    \end{equation}
\end{definition}

The collection of tangent vectors at $p$ is called the \indexbf{tangent space} at $p$, denoted by $\indexmath[TpM]{T_p M}$.

The derivative of a path $\gamma \colon [0, 1] \to M$ (or $\mathbb R \to M$) in a smooth manifold is defined as:
\begin{equation}
    \begin{aligned}
        \gamma'(t) \colon& C^{(\infty)}(M) \to \mathbb R;
        \\
        & \gamma'(t)(f) = \diff{}{t} f \circ \gamma(t)
    \end{aligned}
\end{equation}

We can see that $\gamma'(t) \in T_{\gamma(t)} M$.

Let a path $\gamma \colon \mathbb R$ follows a vector field (a velocity field), that is
\begin{equation}
    \gamma'(t) = v_{\gamma(t)},
\end{equation}
then we call $\gamma$ the \indexbf{integral curve} through $p := \gamma(0)$ of the vector field $v$.

\begin{definition}
    Suppose $v$ is an integrable vector field.
    Let $\varphi_t(p)$ be the point at time $t$ on the integral curve through $p$.
    \begin{equation}
        \varphi_t \colon M \to M
    \end{equation}
    is then called a \indexbf{flow} generated by $v$.
\end{definition}

\begin{equation}
    \diff{}{t}\varphi_t(p) = v_{\varphi_t(p)}.
\end{equation}

\section{Covariant and Contravariant}

\begin{definition}[pullback]
    Let $f$ be a scalar field over $N$, $\varphi \in C^{(\infty)}(M, N)$. Then the \indexbf{pullback} of $f$ by $\varphi$ 
    \begin{equation}
        \varphi^* \colon C^{(\infty)}(N) \to C^{(\infty)}(M),
    \end{equation}
    is defined as
    \begin{equation}
        \varphi^* f = f \circ \varphi \in C^{(\infty)}(M).
    \end{equation}
\end{definition}

Fields that are pullbacked are \indexbf{covariant} fields.

\begin{definition}[pushforward]
    Let $v_p$ be a tangent vector of $M$ at $p$, $\varphi \in C^{(\infty)}(M, N)$, $q = \varphi(p)$. 
    Then the \indexbf{pushforward} of $v_p$ by $\varphi$ 
    \begin{equation}
        \varphi_* \colon T_p M \to T_q N,
    \end{equation}
    is defined as
    \begin{equation}
        (\varphi_* v)_q(f) = v_p(\varphi^* f).
    \end{equation}
\end{definition}

Note that the pushforward of a vector field can only be obtained when $\varphi$ is a diffeomorphism.

Fields that are pushforwarded are \indexbf{contravariant} fields.

Mathematicians and physicists might have disagreement on whether a tangent vector is covariant or contravariant.
This is because of that physicists might consider the coordinates ($v^\mu$) of a tangent vector as a vector field, instead of linear combination of bases $\partial_\mu$.

\section{Components of Vector Fields}

Let $\varphi \colon U \to \mathbb R^n$ be a chart of $M$ ($U \subset M$).

Let $p \in U$, $\varphi(p) = x = (x^\mu)$ ($\mu = 0, \ldots, n-1$).
Locally, a function $f \in C^{(\infty)}(M)$ can be written as
\begin{equation}
    (\varphi^{-1})^* f = f \circ \varphi^{-1} \colon M \to \mathbb R,
\end{equation}
and a vector field $v \in \Vect(M)$ can be written as
\begin{equation}
    (\varphi_* v)_{x} = \varphi_* v_p \colon C^{(\infty)}(\mathbb R^n) \to \mathbb R,
\end{equation}
or
\begin{equation}
    \varphi_* v  \in \Vect(\mathbb R^n)
\end{equation}



Since $T_x\mathbb R^n \cong \mathbb R^n$ is a linear space, one can find a basis for $T_x\mathbb R^n$ as
\begin{equation}
    \partial_\mu \colon C^{(\infty)} (\mathbb R^n) \to C^{(\infty)} (\mathbb R^n),
\end{equation}
and $(\varphi_* v)_x = v^\mu (x) \partial_\mu$.

Pushing forward $v^\mu (x) \partial_\mu$ by $\varphi^{-1}$ one obtains $v$.

In an abuse of symbols, one may just omit the pullback and pushforward, and refer to the $f$ and $v$ by $(\varphi^{-1})^* f$ and $\varphi_*v$.

Consider another chart $\psi \colon U \to \mathbb R^n$ of $M$,
and
\begin{equation}
    y = \psi(p),
    \quad
    (\psi_* v)_x = u^\mu \partial_\mu,
\end{equation}
where we have chosen the same basis in $T_y \mathbb R^n$ as in $T_x\mathbb R^n$.

We would like to know how to relate $v^\mu$ and $u^\mu$ i.e.\ we want to know how the components of $v$ transforms under a coordinate transformation $\tau = \psi \circ \varphi^{-1}$.

Consider any $f \in C^{(\infty)}(M)$, 
\begin{equation}
    v(f) = \varphi_* v((\varphi^{-1})_* f)
    = \psi_* v((\psi^{-1})_* f)
\end{equation}
\hence
\begin{equation}
    u^\mu \partial_\mu (f \circ \psi^{-1})
    = v^\mu \partial_\mu (f \circ \varphi^{-1})
    = v^\mu \partial_\mu (f \circ \psi^{-1} \circ \tau)
    = v^\mu {\tau'}^\nu_\mu \partial_\nu (f \circ \psi^{-1})
\end{equation}
\hence
\begin{equation}
    u^\mu = v^\nu {\tau'}^\mu_\nu,
\end{equation}
where
\begin{equation}
    {\tau'}^\mu_\nu = \pdiff{y^\mu}{x^\nu}.
\end{equation}

\section{Lie Bracket}
\begin{definition}[Lie bracket]
    Let $v, w \in \Vect(M)$, then the \indexbf{Lie bracket} of $v$ and $w$ is defined as
    \begin{equation}
        [v, w] \colon C^{(\infty)}(M) \to C^{(\infty)}(M);
        \;
        f \mapsto v \circ w (f) - w \circ v (f).
    \end{equation}
\end{definition}

The Lie bracket is an antisymmetric bilinear map\footnote{Note that it is not $C^{(\infty)}$-linear}, and an important property of the Lie bracket is the Leibniz rule:
\begin{equation}
    [v, w] (fg) = {[v, w] (f)} g + f {[v, w] (g)}.
\end{equation}

Another important property of the Lie bracket is the Jacobi identity:
\begin{equation}
    [v, [w, u]] + [w, [u, v]] + [u, [v, w]] = 0.
\end{equation}

\chapter{Differential Forms}

\section{1-forms}

\begin{definition}[1-form]
    A \indexbf{1-form} $\omega$ on $M$ is a $\Vect(M) \to C^{(\infty)}(M)$ which satisfies that
    \begin{enumerate}[label=(\alph*)]
        \item $\forall v, w \in \Vect(M)$, $\forall f, g \in C^{(\infty)}(M)$, 
        \begin{equation}
            \omega (fv + gw) = f \omega (v) + g \omega (w).
        \end{equation}
    \end{enumerate}
\end{definition}

The space of all 1-forms on $M$ is denoted as $\indexmath[Omega 1 (M)]{\Omega^1(M)}$, which is a module over $C^{(\infty)}(M)$.

The operator $\dif$, when given a $C^{(\infty)}(M)$ function (which is called a \indexbf{0-form}), would give a 1-form:
\begin{equation}
    (\dif f) (v) = v(f).
\end{equation}

This is called the \indexbf{exterior derivative} or \indexbf{differential} of $f$.

The \indexbf{cotangent vector} or \indexbf{covector} is similar as the tangent vector:
\begin{equation}
    \omega_p(v_p) = \omega(v)(p).
\end{equation}

The space of cotangent vectors at $p$ on $M$ is denoted by $\indexmath[Tp ast M]{T_p^*M}$.

1-forms are covariant, that is, if $\varphi \colon M \to N$, then the pushforward of a 1-form $\omega$ by $\varphi$ is
\begin{equation}
    (\varphi^* \omega)_p (v_p) = \omega_q(\varphi_* v_p),
\end{equation}
where $\varphi(p) = q$.

\begin{theorem}
    $f \in C^{(\infty)}(N)$, $\varphi \colon M \to N$ is differential, then
    \begin{equation}
        \varphi^* (\dif f) = \dif (\varphi^* f).
    \end{equation}
\end{theorem}

\section{Components of 1-Forms}

Let $\varphi \colon U \to \mathbb R^n$ be a chart of $M$ ($U \subset M$).

Let $p \in U$, $\varphi(p) = x = (x^\mu)$ ($\mu = 0, \ldots, n-1$).
Locally a 1-form $\omega \in \Omega^1(M)$ can be written as 
\begin{equation}
    (\varphi^{-1})^* \omega \in T^*_x \mathbb R^n.
\end{equation}

A natural way to impose a basis $\dif x^\mu$ in $T^*_x \mathbb R^n$ is 
\begin{equation}
    \dif x^\mu (\partial_\nu) = \delta^\mu_\nu,
\end{equation}
and $(\varphi^{-1})^*\omega = \omega_\mu(x) \dif x^\mu$.

Now by the definition of 1-form:
\begin{equation}
    \omega_\mu \dif x^{\mu} (v^\nu \partial_\nu)
    = v^\nu \omega_\mu \delta^\mu_\nu = v^\mu \omega_\mu.
\end{equation}

By the transformation rule of components of a vector, one have
\begin{equation}
    {\tau'}^\nu_\mu \alpha_\nu = \omega_\mu,
\end{equation}
where $\psi \colon U \to \mathbb R^n$, $(\psi^{-1})_*\omega = \alpha_\mu \dif x^\mu$, $\tau = \psi \circ \varphi^{-1}$.

\section{\texorpdfstring{$k$-Forms}{k-Forms}}

\begin{definition}
    If we assign an antisymmetric multilinear $k$-form $\omega_p \in \bigotimes_{i \in k} T^*_p M$ to each point $p \in M$, we say we have a \emphbf{$k$-form} on $M$.%
    \index{k-form@{$k$-form}}

    The collection of all $k$-forms is denoted by $\indexmath[Omega k (M)]{\Omega^k(M)}$, and $\indexmath[Omega(M)]{\Omega(M)} := \bigcup_{k \in \mathbb N} \Omega^k(M)$.
\end{definition}

\begin{theorem}[Dimension of forms]
    If $M$ is an $n$D manifold, then the dimension of $\Omega^k(M)$ is $\frac{n!}{k! (n - k)!}$ ($k \leq n$), and $0$ for $k > n$; The dimension of $\Omega(M)$ is $2^n$.
\end{theorem}

\begin{definition}[Wedge product]
    The \indexbf{wedge product} $\indexmath[wedge]{\wedge}$ is defined as a binary operater that takes a $k$-form and $\ell$-form and gives a $(k + \ell)$-forms, satisfying $\forall \alpha \in \Omega^k(M)$, $\forall \beta \in \Omega^\ell(M)$:
    \begin{enumerate}[label=(\alph*)]
        \item (Associativity) $\forall \gamma \in \Omega^m(M)$,
        \begin{equation}
            (\alpha \wedge \beta) \wedge \gamma = \alpha \wedge (\beta \wedge \gamma).
        \end{equation}
        \item (Supercommutativity) 
        \begin{equation}
            \alpha \wedge \beta = (-1)^{k \ell} \beta \wedge \alpha.
        \end{equation}
        \item (Distributiveness) $\forall \gamma \in \Omega^\ell(M)$,
        \begin{equation}
            \alpha \wedge (\beta + \gamma) = \alpha \wedge \beta + \alpha \wedge \gamma.
        \end{equation}
        \item (Bilinearity over $C^{(\infty)}(M)$) $\forall f \in C^{(\infty)}(M)$,
        \begin{equation}
            (f \alpha) \wedge \beta = f (\alpha \wedge \beta).
        \end{equation}
        \item (Naturality) If $\varphi \colon M \to N$ is a smooth map, then the pullback of a form by $\varphi$ can be given by repeatingly applying ($\forall \gamma \in \Omega^\ell(M)$)
        \begin{equation}
            \begin{aligned}
                \varphi^* (\beta + \gamma) &= \varphi^* \alpha + \varphi^* \beta
                \\ 
                \varphi^* (\alpha \wedge \beta) &= \varphi^* \alpha \wedge \varphi^* \beta,
            \end{aligned}
        \end{equation}
        while the pullback of a 0-form and a 1-form agree with what we have already defined before.
    \end{enumerate}
\end{definition}

By convention if $f \in C^{(\infty)}(M)$ then
\begin{equation}
    f \wedge \omega =: f\omega.
\end{equation}

It can be shown that any $k$-form $\omega$ can be written as
\begin{equation}
    (\varphi^{-1})^* \omega = \frac{\omega_{\mu_1 \cdots \mu_k}}{n!} \bigwedge_{i = 1}^k \dif x^{\mu_i},
\end{equation}
where $\varphi \colon M \to \mathbb R^n$ is a chart.

\section{Exterior Derivative}
\begin{definition}[Exterior derivative]
    The \indexbf{exterior derivative} $\indexmath[exterior derivative]{\dif}$ is defined as a linear operator that takes a $k$-form and gives a $(k + 1)$-form, satisfying $\forall \alpha \in \Omega^k(M)$, $\forall \beta \in \Omega^\ell(M)$:
    \begin{enumerate}[label=(\alph*)]
        \item (Linearity) $\forall \lambda, \mu \in \mathbb R$, $\forall \gamma \in \Omega^\ell(M)$,
        \begin{equation}
            \dif (\lambda\beta + \mu\gamma) = \lambda \dif \alpha + \mu \dif \beta.
        \end{equation}
        \item (Leibniz rule)
        \begin{equation}
            \dif (\alpha \wedge \beta) = \dif \alpha \wedge \beta + (-1)^k \alpha \wedge \dif \beta.
        \end{equation}
        \item
        \begin{equation}
            \dif[2] \omega = 0.
        \end{equation}
        \item (Naturality) If $\varphi \colon M \to N$ is a smooth map, then 
        \begin{equation}
            \varphi^* \dif \omega = \dif \varphi^* \omega.
        \end{equation}
    \end{enumerate}
    
\end{definition}

\chapter{Metric}
\section{Pseudo-Riemannian Metric}
\begin{definition}[Psedudo-Riemannian metric]
    Let $M$ be a manifold.
    A \indexbf{pseudo-Riemannian metric} or simply \indexbf{metric} $g$ on a manifold $M$ is a field ($g \in \Gamma(T^*M \otimes T^*M)$) that $\forall p \in M$, 
    \begin{equation}
        g_p \colon T^*_p M \times T^*_p M \to \mathbb R, 
    \end{equation}
    is a bilinear form satisfying the following properties:
    \begin{enumerate}[label=(\alph*)]
        \item (Symmetry) $\forall u, v \in T_p M$,
        \begin{equation}
            g_p(u, v) = g_p(v, u).
        \end{equation}
        \item (Non-degenerate)
        \begin{equation}
            u \mapsto g_p(u, \dummy) \colon T_p M \to T^*_p M 
        \end{equation}
        is an isomorphism.
        \item (Bilinearity) $\forall p \in M$, $\forall u, v \in T_p M$, $\forall \lambda, \mu \in \mathbb R$,
        \begin{equation}
            g_p(\lambda u + \mu v, w) = \lambda g_p(u, w) + \mu g_p(v, w).
        \end{equation}
        \item (Smoothness) If $v, u \in \Vect(M)$, then
        \begin{equation}
            p \mapsto g_p(v_p, u_p) \in C^{(\infty)}(M).
        \end{equation}
    \end{enumerate}
\end{definition}

Given a metric, $\forall p \in M$, we can always find an orthonormal basis $\{e_\mu\}$ of $T_p M$ such that
\begin{equation}
    g_p(e_\mu, e_\nu) = \sign(\mu) \delta_{\mu\nu},
\end{equation}
where $\sign(\mu) = \pm 1$.
Conventionally we order the basis such that $\sign(\mu) = 1$ for $\mu \in s$ and $\sign(\mu) = -1$ for $\mu - s \in n - s$, and say that the metric has \indexbf{signature} $(s, n - s)$.

If $\gamma \colon [0, 1] \to M$ is a smooth path and $\forall t, s \in [0, 1]$,
\begin{equation}
    g(\gamma'(t), \gamma'(t)) g(\gamma'(s), \gamma'(s)) \geq 0,
\end{equation}
then we can define the arclength of $\gamma$ as
\begin{equation}
    \int_0^1 \sqrt{|g(\gamma'(t), \gamma'(t))|} \dif t
\end{equation}
if the integral converges.

The metric gives an \indexbf{inner product} on $\Vect(M)$:
\begin{equation}
    \langle u, v \rangle := g(u, v).
\end{equation}

The metric also gives a way to relate a vector field $v$ to a 1-form $\omega$.
If $v$ and $\omega$ satisfies:
$\forall u \in \Vect(M)$, 
\begin{equation}
    g(v, u) = \omega(u),
\end{equation}
then we say that $v$ is the corresponding vector field of $\omega$, and $\omega$ is the corresponding 1-form of $v$.

We can also define the \indexbf{inner product} on $\Omega^1(M)$ by 
\begin{equation}
    \langle \alpha, \beta\rangle = \langle a, b\rangle,
\end{equation}
where $a$ and $b$ is the corresponding vector fields of $\alpha$ and $\beta$.

The \indexbf{inner product} on $\Omega^k(M)$ is defined by induction with
\begin{equation}
    \langle \bigwedge_{i \in k} \alpha_i, \bigwedge_{i \in k} \beta_i \rangle 
    = \det(\langle \alpha_i, \beta_j \rangle)_{i, j \in k}.
\end{equation}

Hence, if $\{e_\mu\}$ is an orthonormal basis (field) of $T_p M$, while the corresponding covectors are $\{f^\mu\}$ ($f^\mu(e_\nu) = \delta^\mu_\nu$) then
\begin{equation}
    \langle \bigwedge_{i \in k} f^{\mu_i}, \bigwedge_{i \in k} f^{\mu_i}\rangle
    = \prod_{i \in k} \sign(\mu_i).
\end{equation}

Specially, when $f, g \in \Omega^0(M) = C^{(\infty)}(M)$,
\begin{equation}
    \langle f, g \rangle = fg.
\end{equation}

\section{Volume Form}

Notice that if $M$ is an $n$D manifold, $\dim \Omega^n(M) = 1$, meaning at $p \in M$, $\{\omega_p \mid \omega \in \Omega^n(M)\}$ can be labelled by a parametre $\lambda_p \in \mathbb R$. 
If we have a basis $\{f^\mu\}$ of $T^*_p M$ (or corresponding vectors $\{e_\mu\}$), then
\begin{equation}
    \{\omega_p \mid \omega \in \Omega^n(M)\} = \lambda_p \bigwedge_{\mu \in n} f^\mu.
\end{equation}

If there were another basis $\{g^\mu\}$ of $T^*_p M$ (or corresponding vectors $\{h_\mu\}$), and the transformation between the two bases is given by
\begin{equation}
    P e^\mu = f^\mu,
\end{equation}
where $P \in \Aut(T^*_p M)$.
When $\det P > 0$, we say that $\{f^\mu\}$ and $\{g^\mu\}$ have the same \indexbf{orientation}.

%TODO: how to give a oriented basis field without a chart?


\begin{definition}[Volume form]
    Let $M$ be an orientable manifold.
    If $\forall p \in M$, we find an oriented orthonormal basis $\{f_\mu\}$ of $T_p^* M$ at point $p$, 
    then the \indexbf{volume form} $\indexmath[vol]{\vol}$ is defined by
    \begin{equation}
        \bigwedge_{\mu \in n} f_\mu = \vol_p.
    \end{equation}
\end{definition}

\section{Hodge Star Operator}

\begin{definition}[Hodge Star Operator]
    Let $M$ be an orientable manifold.
    The \indexbf{Hodge star operator} $\indexmath[star]{\star}$ is defined by the linear map
    \begin{equation}
        \star \colon \Omega^k(M) \to \Omega^{n - k}(M),
    \end{equation}
    $\forall \alpha, \beta \in \Omega^k(M)$,
    \begin{equation}
        \alpha \wedge \star \beta = \langle \alpha, \beta \rangle \vol.
    \end{equation}
    
    We call $\star \omega$ the \indexbf{dual} of $\omega$.
\end{definition}

The special case is when $k = 0$,
\begin{equation}
    \star f = f \vol,
\end{equation}
and $k = n$,
\begin{equation}
    \star (f \vol) = f \prod_{\mu \in n} \sign(\mu) = (-1)^{n - s} f
\end{equation}
if the signature of the metric is $(s, n - s)$.



\section{Metric and Coordinates}

\chapter{De Rham Theory}
\section{Closed and Exact 1-Forms}
\section{Stokes' Theorem}
\section{De Rham Cohomology}

\chapter{Bundles and Connections}
\section{Fibre Bundles}
\begin{definition}[Bundle]
    A \indexbf{bundle} is a triple $(E, \pi, B)$, where $\pi \colon E \to B$ is a surjective map.
    $E$ is called the \indexbf{total space}, $\pi$ is called the \indexbf{projection map}, and $B$ is called the \indexbf{base space}.

    A bundle $(E, \pi, B)$ can be denoted as $\pi \colon E \to B$ or $\begin{tikzcd}
        E \arrow[r, "\pi"] & B
    \end{tikzcd}$.
\end{definition}

\begin{definition}[Fibre]
    For $p \in B$, $\pi^{-1}(\{p\})$ is the \indexbf{fibre} over $b$.
\end{definition}

\begin{definition}[Subbundle]
    Let $\pi \colon E \to B$ be a bundle. $F \subset E$, $C \subset B$, $\rho \colon F \to C$.
    If $\pi|_{C} = \rho$, then $\rho \colon F \to C$ is called a \indexbf{subbundle} of $\pi \colon E \to B$.
\end{definition}

\begin{definition}[Section]
    A \indexbf{section} is a map $s \colon B \to E$ such that
    \begin{equation}
        p \circ s = \id_B.
    \end{equation}

    All sections of a bundle $\pi \colon E \to B$ is denoted as $\indexmath[Gamma(E)]{\Gamma(E)}$.
\end{definition}


\begin{definition}[Fibre bundle]
    A \indexbf{fibre bundle} $(E, \pi, B, F)$ is a bundle $\pi \colon E \to B$, where $E$, $B$, $F$ are topology spaces, and $\pi$ is a continuous map, and $\forall p \in B$, $\exists U \in \mathscr U(p)$ s.t.\ 
    \begin{equation}
        \varphi \colon \pi^{-1}(U) \to U \times F,
    \end{equation}
    is a homeomorphism and $\pi_1 \circ \varphi = \pi$.
    $\pi_1$ is defined as $\pi_1(p, q) = p$.

    A fibre bundle can be denoted as the exact sequence
    \begin{equation}
        \begin{tikzcd}
            F \arrow[r] & E \arrow[r, "\pi"] & B
        \end{tikzcd}
    \end{equation}

    The last condition is called the \indexbf{local triviality condition}.
    $F$ is called the \indexbf{standard fibre}
\end{definition}

If $E = B \times F$, then $(E, \pi, B, F)$ is called a \indexbf{trivial fibre bundle}.

\begin{definition}[Morphism]
    Let $\pi \colon E \to B$, $\rho \colon F \to C$ be two fibre bundles.
    A \indexbf{morphism} $(\varphi, \psi)$ is a pair of two continuous maps such that
    \begin{equation}
        \begin{tikzcd}
            E \arrow[d, "\pi"] \arrow[r, "\psi"] & F \arrow[d, "\rho"] \\
            B \arrow[r, "\varphi"]               & C                  
        \end{tikzcd}
    \end{equation}
    commutes.
\end{definition}

\section{Vector Bundles}
\begin{definition}[Vector bundle]
    A \indexbf{vector bundle} is a fibre bundle $(E, \pi, B, F)$, where $F$ is a vector space, and the local trivialisation $\varphi \colon \pi^{-1}(U) \to U \times F$ ($U$ is a neibourhood of $p \in B$) satisfies that $\forall x \in U$, $\forall v \in F$, 
    \begin{equation}
        \begin{aligned}
            F &\to \pi^{-1}(\{x\}) \\ 
            v &\mapsto \varphi^{-1}(x, v)
        \end{aligned}
    \end{equation}
    is a linear isomorphism (\indexbf{fibrewise linear}).
\end{definition}

\begin{definition}[Morphism (vector bundle)]
    The morphism between two vector bundles $(E, \pi, B, F)$ and $(E', \pi', B', F')$ is a morphism $(\varphi, \psi)$ such that $\forall x \in B$, 
    \begin{equation}
        \psi_* \colon \pi^{-1}(\{x\}) \to (\pi')^{-1}(\{\varphi(x)\})
    \end{equation}
    is a linear homomorphism.
\end{definition}

\begin{definition}[Smooth vector bundle]
    A \indexbf{smooth vector bundle} is a vector bundle $(E, \pi, B, F)$, where the projection $\pi \colon E \to B$ and the local trivialisation $\varphi \colon \pi^{-1}(U) \to U \times F$ are smooth.
\end{definition}

\begin{definition}[Tangent bundle]
    The \indexbf{tangent bundle} $\indexmath[TM]{{TM}}$ is the smooth vector bundle over an $n$D smooth manifold $M$ with the standard fibre $T_p M = \mathbb R^n$.
\end{definition}

A vector field $v \in \Vect(M)$ is the smooth section of the tangent bundle $\Gamma(TM)$.

\begin{definition}[Cotangent bundle]
    The \indexbf{cotangent bundle} of an $n$D manifold $M$, 
    denoted by $\indexmath[T ast M]{{T^*M}}$, 
    is the smooth vector bundle over with the standard fibre $T^*_p M = (\mathbb R^n)^*$.
\end{definition}

A 1-form $\omega \in \Omega^1(M)$ is the smooth section of the cotangent bundle $\Gamma(T^*M)$.

\section{Constructions of Vector Bundles}
\begin{definition}[Duality]
    %TODO
\end{definition}

\section{Connections}

\begin{definition}[Connection]
    A \indexbf{connection} on a smooth vector bundle $(E, \pi, M, F)$ is map
    \begin{equation}
        D \colon \Gamma(TM) \times \Gamma(E) \to \Gamma(E),
    \end{equation}
    that satisfies the following conditions:
    $\forall v, w \in \Gamma(TM)$, $\forall s, t \in \Gamma(E)$, $\forall f \in C^{(\infty)}(M)$,
    \begin{enumerate}[label=(\alph*)]
        \item $D_v (s + t) = D_v s + D_v t$;
        \item $D_v (fs) = v(f) s +  f D_v s$;
        \item $D_{v + w} s = D_v s + D_w s$;
        \item $D_{fv} s = f D_v s$.
    \end{enumerate}
\end{definition}

When a vector field $v \in \Gamma(TM)$ is given to the connection $D$, the map $D_v \colon \Gamma(E) \to \Gamma(E)$ is called the \indexbf{covariant derivative} with respect to $v$.

\begin{definition}[Vector potential]
    A \indexbf{vector potential} $A$ is an $\End(E)$-valued 1-form, that is
    \begin{equation}
        A \in \Gamma(\End(E) \otimes T^*M),
    \end{equation}
    where $\End(E) \cong E \otimes E^*$ can be considered as a vector bundle over $M$ with the standard fibre $\End(E_p) \cong E_p \otimes E_p^*$ ($p \in E$).
\end{definition}

Locally if $s \in \Gamma(E)$ we can have a trivialisation $\varphi \colon E|_U \to U \times F$ ($U \subset M$).
If we assign a basis $\{f_i\}_{i \in m}$ for the $m$D standard fibre $F$, then 
\begin{equation}
    s = s^i e_i := s^i\varphi^{-1}(f_i),
    \quad s^i \in C^{(\infty)}(U),
\end{equation} 
where we can call $\{s^i\}_{i \in m}$ the \indexbf{components of the section} $s$.
With this specific normalisation, one can define that
\begin{equation}
    D^0_v s = v(s^i) e_i
\end{equation}
where $\indexmath[D0]{D^0}$ is called the \indexbf{standard flat connection} (which depends on trivialisation).


\begin{theorem}
    Let $(E, \pi, M, F)$ be a smooth vector bundle.
    If $D$ is a connection on $E$, $A \in \Gamma(\End(E)) \otimes T^*M$, then
    the $D + A$, which defined as
    \begin{equation}
        D + A \colon (v, s)  \mapsto D_v s + A(v) s,
    \end{equation}
    is also a connection.
\end{theorem}

\begin{theorem}
    Let $(E, \pi, M, F)$ be a smooth vector bundle, and $D^0$ is the standard flat connection on $U \subset E$ with the trivialisation $\varphi \colon E|_U \to U \times F$.
    If $D$ is a connection on a $(E, \pi, M, F)$,
    then $\exists A \in \Gamma(\End(E)) \otimes T^*M$ s.t.\ 
    \begin{equation}
        D = D^0 + A.
    \end{equation}
\end{theorem}

\section{Parallel Transport}

\begin{definition}[Parallel transport]
    Let $(E, \pi, M, F)$ be a smooth vector bundle, and $D$ is a connection on $E$.
    A \indexbf{paralell transport} of $s_0 \in \pi^{-1}(\{p\})$ ($p \in M$)along a curve $\gamma \colon [0, 1] \to M$ is a section $s \in \Gamma(E|_{\gamma([0, 1])})$ such that
    \begin{equation}
        \forall t \in [0, 1], 
        \quad 
        D_{\gamma'(t)} s(t) = 0,
        \quad
        s(0) = s_0,
    \end{equation}
    where $s(t) := s_{\gamma(t)}$.
\end{definition}

\chapter{Curvature}



\chapter{Pseudo-Riemannian Geometry}


\backmatter{}
\nocite{*} % 这个表示列出所有没有在文中被引用的参考文献
\printbibliography[heading=bibliography, title={bibliography}]

\indexprologue{Here listed the important symbols used in these notes}
\printindex[symbol]

\printindex
\end{document}